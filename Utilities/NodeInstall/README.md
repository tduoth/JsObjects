# NodeInstall

The most important utilities in this folder are:

* NodeInstall: It should install the most recent version of NodeJs on a Linux system.
* InstallNodePackages: Install global node packages into the ~/npm folder
* CreateExpressProject: Create and configure a default express project
* TestReady: Take a project created with **CreateExpressProject** and set it up to handle unit tests.

## TestReady

In this folder you will find a file called [TestReady][tr]. It sets up the:

1. test runner called **Karma**
1. build utility called **Grunt**
1. syntax checker called **JsHint**
1. testing framework called **Jasmine**
1. And it creates a default unit test in a directory called **spec**

**NOTE**: *Make sure you have installed **js-beautify**. This utility can help you properly format and indent your javascript files.*

```
npm install -g js-beautify
```

The script first copies two files from ELF_TEMPLATES\UnitTest:

* Gruntfile.js: Configure Grunt.
* karama.conf.js: Configure Karma

It then adds a set of Grunt and Karma related packages to **package.json**. After the code is added, **package.json** is not very well formated and indented. To clean that up, we use **js-beautify**.

The next step is to double check that we have added **use strict** statments to several files that are auto-generated by express.

We then run **npm install**, and, as a final step, copy in a very simple unit test.

To confirm that everything is working, run **grunt test**. If you see output like the following, then all has gone well:

```
  Elvenware Simple Plain Suite
    âœ“ expects true to be true

PhantomJS 1.9.8 (Linux 0.0.0): Executed 1 of 1 SUCCESS (0.041 secs / 0.001 secs)
TOTAL: 1 SUCCESS
```

If you get errors related to **JsHint**, then open **result.xml** in a browser with either of these commands:

```
chromium-browser result.xml
firefox result.xml
```

Once the file is loaded in your browser, you can check for updates to **result.xml** by pressing F5 to refresh the browser. This means you don't have to re-run one of the above commands each time you attempt to fix a syntax error and run **grunt test** to test your work. Instead, just refresh your browser.

[tr]:https://github.com/charliecalvert/JsObjects/blob/master/Utilities/NodeInstall/TestReady
